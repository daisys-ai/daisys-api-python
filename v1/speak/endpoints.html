<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="prev" title="Daisys API models" href="models.html" />

    <!-- Generated with Sphinx 7.2.5 and Furo 2023.08.19 -->
        <title>Daisys API endpoints - daisys-api 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=362ab14a" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-toc-background: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-background-primary: black;
  --color-background-secondary: black;
  --color-foreground-primary: white;
  --color-foreground-secondary: #19AAD8;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-background-primary: black;
  --color-background-secondary: black;
  --color-foreground-primary: white;
  --color-foreground-secondary: #19AAD8;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">daisys-api 1.0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../_static/daisys-logo-light.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../_static/daisys-logo.png" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">daisys-api 1.0.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting_started.html">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Getting started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started_python.html">Getting started with the Python client library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started_cli.html">Getting started with the command line</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../examples.html">Daisys API examples</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Daisys API examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../examples/hello_daisys.html">Example: Hello Daisys, synchronous client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/hello_daisys_async.html">Example: Hello Daisys, asynchronous client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/tokens_example.html">Example: Using an access token instead of password</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/curl_example.html">Example: <code class="docutils literal notranslate"><span class="pre">curl</span></code> example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../input.html">Daisys API input</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../daisys.html">Daisys API top-level object</a></li>
<li class="toctree-l1"><a class="reference internal" href="clients.html">Daisys API clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Daisys API models</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Daisys API endpoints</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="daisys-api-endpoints">
<span id="v1-speak-endpoints"></span><h1>Daisys API endpoints<a class="headerlink" href="#daisys-api-endpoints" title="Link to this heading">#</a></h1>
<p>While Daisys recommends the use of the Python client, the Daisys API endpoints are
available for use with other languages.  In addition to the current document, the
FastAPI-generated documentation is available:</p>
<blockquote>
<div><ul class="simple">
<li><p>Swagger UI: <a class="reference external" href="https://api.daisys.ai/v1/speak/docs">https://api.daisys.ai/v1/speak/docs</a></p></li>
<li><p>Redoc: <a class="reference external" href="https://api.daisys.ai/v1/speak/redoc">https://api.daisys.ai/v1/speak/redoc</a></p></li>
<li><p>OpenAPI definition file: <a class="reference external" href="https://api.daisys.ai/v1/speak/openapi.json">https://api.daisys.ai/v1/speak/openapi.json</a></p></li>
</ul>
</div></blockquote>
<p>See also the FastAPI documentation on how to <a class="reference external" href="https://fastapi.tiangolo.com/advanced/generate-clients">generate clients</a> for other languages.</p>
<p>The “Speak” API provides a REST interface to its three main data structures: models,
voices, and takes.</p>
<p>This is best demonstrated in the <a class="reference internal" href="../../examples/curl_example.html#v1-speak-curl-example"><span class="std std-ref">curl example</span></a>, where JSON
objects are constructed as strings in a shell script.  See <a class="reference internal" href="#json-input-structures">JSON input structures</a>
for more information on JSON input.</p>
<section id="model-related-endpoints">
<span id="v1-speak-model-endpoints"></span><h2>Model-related Endpoints<a class="headerlink" href="#model-related-endpoints" title="Link to this heading">#</a></h2>
<p>A Daisys API user account may have access to one or more <em>models</em>.  These models can be
listed by accessing the <code class="docutils literal notranslate"><span class="pre">models</span></code> endpoint using a <code class="docutils literal notranslate"><span class="pre">GET</span></code> request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">daisys</span><span class="o">.</span><span class="n">ai</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">speak</span><span class="o">/</span><span class="n">models</span>
</pre></div>
</div>
<p>Furthermore a specific model can be accessed by providing its name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">daisys</span><span class="o">.</span><span class="n">ai</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">speak</span><span class="o">/</span><span class="n">models</span><span class="o">/&lt;</span><span class="n">model_name</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="voice-related-endpoints">
<span id="v1-speak-voice-endpoints"></span><h2>Voice-related Endpoints<a class="headerlink" href="#voice-related-endpoints" title="Link to this heading">#</a></h2>
<p>A Daisys API user account may have access to one or more <em>voices</em>.  These voices can be
listed by accessing the <code class="docutils literal notranslate"><span class="pre">voices</span></code> endpoint using a <code class="docutils literal notranslate"><span class="pre">GET</span></code> request. Voice listing can
also be filtered, by providing fields <code class="docutils literal notranslate"><span class="pre">voice_id</span></code> (a comma-separated list of <code class="docutils literal notranslate"><span class="pre">voice_id</span></code>
to retrieve), <code class="docutils literal notranslate"><span class="pre">length</span></code>, <code class="docutils literal notranslate"><span class="pre">page</span></code>, <code class="docutils literal notranslate"><span class="pre">older</span></code> and <code class="docutils literal notranslate"><span class="pre">newer</span></code>.  In these case a list is
returned:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://api.daisys.ai/v1/speak/voices
https://api.daisys.ai/v1/speak/voices?voice_id=&lt;voice_id1,voice_id2&gt;
https://api.daisys.ai/v1/speak/voices?length=5&amp;page=2
https://api.daisys.ai/v1/speak/voices?newer=1690214050638
</pre></div>
</div>
<p>The argument for <code class="docutils literal notranslate"><span class="pre">newer</span></code> and <code class="docutils literal notranslate"><span class="pre">older</span></code> must be a timestamp in milliseconds since epoch.
This can be retrieved in Python for example using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="k">def</span> <span class="nf">seconds_ago</span><span class="p">(</span><span class="n">seconds</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">((</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">seconds</span><span class="p">)</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;https://api.daisys.ai/v1/speak/voices?newer=</span><span class="si">{</span><span class="n">seconds_ago</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
                        <span class="n">header</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Authorization&#39;</span><span class="p">,</span> <span class="s1">&#39;Bearer &#39;</span> <span class="o">+</span> <span class="n">access_token</span><span class="p">)</span>
</pre></div>
</div>
<p>Furthermore a specific voice can be accessed by providing its name.  In this case a single
item is returned instead of a list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">daisys</span><span class="o">.</span><span class="n">ai</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">speak</span><span class="o">/</span><span class="n">voices</span><span class="o">/&lt;</span><span class="n">voice_id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>User accounts may also have access to generate new voices.  This can be done by making a
<code class="docutils literal notranslate"><span class="pre">POST</span></code> request to the <code class="docutils literal notranslate"><span class="pre">voices/generate</span></code> endpoint:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">daisys</span><span class="o">.</span><span class="n">ai</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">speak</span><span class="o">/</span><span class="n">voices</span><span class="o">/</span><span class="n">generate</span>
</pre></div>
</div>
<p>The body should contain the <a class="reference internal" href="models.html#daisys.v1.speak.models.VoiceGenerate" title="daisys.v1.speak.models.VoiceGenerate"><code class="xref py py-class docutils literal notranslate"><span class="pre">VoiceGenerate</span></code></a>
structure in JSON format.  Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization: Bearer $TOKEN&quot;</span> <span class="o">-</span><span class="n">H</span> <span class="s1">&#39;content-type: application/json&#39;</span> \
  <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;{&quot;name&quot;: &quot;Bob&quot;, &quot;gender&quot;: &quot;male&quot;, &quot;model&quot;: &quot;my_model&quot;}&#39;</span> \
  <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">daisys</span><span class="o">.</span><span class="n">ai</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">speak</span><span class="o">/</span><span class="n">voices</span><span class="o">/</span><span class="n">generate</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">my_model</span></code> should be the name of a model listed by the <code class="docutils literal notranslate"><span class="pre">/speak/models</span></code> endpoint.</p>
</section>
<section id="take-related-endpoints">
<span id="v1-speak-take-endpoints"></span><h2>Take-related Endpoints<a class="headerlink" href="#take-related-endpoints" title="Link to this heading">#</a></h2>
<p>The principle service of the Daisys API is to perform text-to-speech audio synthesis.
This is done by generating “takes”, which encapsulate a TTS job.  Previously generated
takes can be retrieved via <code class="docutils literal notranslate"><span class="pre">takes</span></code>, and the list can be filtered similar to voices:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://api.daisys.ai/v1/speak/takes
https://api.daisys.ai/v1/speak/takes?take_id=&lt;take_id1,take_id2&gt;
https://api.daisys.ai/v1/speak/takes?length=5&amp;page=2
https://api.daisys.ai/v1/speak/takes?newer=1690214050638
</pre></div>
</div>
<p>with similar semantics to <code class="docutils literal notranslate"><span class="pre">/speak/voices</span></code> described above.  A single take can be
retrieved by giving its identifier:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">daisys</span><span class="o">.</span><span class="n">ai</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">speak</span><span class="o">/</span><span class="n">takes</span><span class="o">/&lt;</span><span class="n">take_id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Finally an audio take can be generated by making a <code class="docutils literal notranslate"><span class="pre">POST</span></code> request to <code class="docutils literal notranslate"><span class="pre">takes/generate</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">daisys</span><span class="o">.</span><span class="n">ai</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">speak</span><span class="o">/</span><span class="n">takes</span><span class="o">/</span><span class="n">generate</span>
</pre></div>
</div>
<p>and providing the <a class="reference internal" href="models.html#daisys.v1.speak.models.TakeGenerate" title="daisys.v1.speak.models.TakeGenerate"><code class="xref py py-class docutils literal notranslate"><span class="pre">TakeGenerate</span></code></a> structure as
input in the content body.</p>
</section>
<section id="authentication-endpoints">
<h2>Authentication Endpoints<a class="headerlink" href="#authentication-endpoints" title="Link to this heading">#</a></h2>
<p>To make use of the Daisys API, first an access token must be granted.  This can be
retrieved by a <code class="docutils literal notranslate"><span class="pre">POST</span></code> request to the <code class="docutils literal notranslate"><span class="pre">auth/login</span></code> endpoint:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">daisys</span><span class="o">.</span><span class="n">ai</span><span class="o">/</span><span class="n">auth</span><span class="o">/</span><span class="n">login</span>
</pre></div>
</div>
<p>The content body should have the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">user</span><span class="nd">@example</span><span class="o">.</span><span class="n">com</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">password</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>On failure, a 401 HTTP status is returned.  (In the client library, an exception is
raised.)  On success, a JSON object containing <code class="docutils literal notranslate"><span class="pre">access_token</span></code> and <code class="docutils literal notranslate"><span class="pre">refresh_token</span></code>
fields is provided.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">access_token</span></code> string should be attached to all <code class="docutils literal notranslate"><span class="pre">GET</span></code> and <code class="docutils literal notranslate"><span class="pre">POST</span></code> requests in the
HTTP header, in the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Authorization</span><span class="p">:</span> <span class="n">Bearer</span> <span class="o">&lt;</span><span class="n">access_token</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Furthermore if the <code class="docutils literal notranslate"><span class="pre">access_token</span></code> is no longer working, the <code class="docutils literal notranslate"><span class="pre">refresh_token</span></code> can be
used to get a new one without supplying the password:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">daisys</span><span class="o">.</span><span class="n">ai</span><span class="o">/</span><span class="n">auth</span><span class="o">/</span><span class="n">refresh</span>
</pre></div>
</div>
<p>In this case the <code class="docutils literal notranslate"><span class="pre">POST</span></code> request should have the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">user</span><span class="nd">@example</span><span class="o">.</span><span class="n">com</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="s2">&quot;refresh_token&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">refresh_token</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The response contains new <code class="docutils literal notranslate"><span class="pre">access_token</span></code> and <code class="docutils literal notranslate"><span class="pre">refresh_token</span></code> fields.  This allows to
continually refresh an initial token whenever needed, so that the API can be used without
providing a password.</p>
<p>Note that this token refresh logic is taken care of automatically by the Python client
library.  The client can also be initiated with just an email and refresh token rather
than an email and password, so that credentials need not be provided to the Daisys API
client.  It is also alternatively possible to request a permatoken, which does not need to
be refreshed.</p>
<p>On the other hand, refresh tokens can be revoked at any time through the following
<code class="docutils literal notranslate"><span class="pre">POST</span></code> endpoint:</p>
<blockquote>
<div><p><a class="reference external" href="https://api.daisys.ai/auth/logout">https://api.daisys.ai/auth/logout</a></p>
</div></blockquote>
<p>with content body of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;refresh_token&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">refresh_token</span><span class="o">&gt;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="json-input-structures">
<h2>JSON input structures<a class="headerlink" href="#json-input-structures" title="Link to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code> endpoints, namely <code class="docutils literal notranslate"><span class="pre">takes/generate</span></code> and <code class="docutils literal notranslate"><span class="pre">voices/generate</span></code>, take input in their
content body in the form of JSON objects.</p>
<p>The structure of all such objects can be inferred by reading the <a class="reference internal" href="models.html#v1-speak-models"><span class="std std-ref">models</span></a>, since the fields can be translated directly to JSON.  Nonetheless some
of the embedded structures and optional fields can be confusing, thus we give some
examples here.</p>
<p>A minimal example of <a class="reference internal" href="models.html#daisys.v1.speak.models.TakeGenerate" title="daisys.v1.speak.models.TakeGenerate"><code class="xref py py-class docutils literal notranslate"><span class="pre">TakeGenerate</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;This is some text to speak.&quot;</span><span class="p">,</span>
  <span class="s2">&quot;prosody&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;pace&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;pitch&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;expression&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">},</span>
  <span class="s2">&quot;voice_id&quot;</span><span class="p">:</span> <span class="s2">&quot;01h3anwqdh1q6zhf9s9s239wky&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Optional fields such as <code class="docutils literal notranslate"><span class="pre">style</span></code>, <code class="docutils literal notranslate"><span class="pre">override_language</span></code>, and <code class="docutils literal notranslate"><span class="pre">done_webhook</span></code> can be
added as desired.</p>
<p>Here is an example of <a class="reference internal" href="models.html#daisys.v1.speak.models.TakeGenerate" title="daisys.v1.speak.models.TakeGenerate"><code class="xref py py-class docutils literal notranslate"><span class="pre">TakeGenerate</span></code></a> using
all available fields:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;This is some text to speak.&quot;</span><span class="p">,</span>
  <span class="s2">&quot;override_language&quot;</span><span class="p">:</span> <span class="s2">&quot;en-GB&quot;</span><span class="p">,</span>
  <span class="s2">&quot;prosody&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;pace&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;pitch&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;expression&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">},</span>
  <span class="s2">&quot;voice_id&quot;</span><span class="p">:</span> <span class="s2">&quot;01h3anwqdh1q6zhf9s9s239wky&quot;</span><span class="p">,</span>
  <span class="s2">&quot;style&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;narrator&quot;</span><span class="p">],</span>
  <span class="s2">&quot;status_webhook&quot;</span><span class="p">:</span> <span class="s2">&quot;https://myservice.com/daisys_webhooks/take_status/1234&quot;</span><span class="p">,</span>
  <span class="s2">&quot;done_webhook&quot;</span><span class="p">:</span> <span class="s2">&quot;https://myservice.com/daisys_webhooks/take_done/1234&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">override_language</span></code> is provided here as an example, but if it is not provided
(is <code class="docutils literal notranslate"><span class="pre">null</span></code>) then the Daisys API will attempt to pronounce words in the correct language
on a per-word basis.  If it is provided, then the model may for example mispronounce loan
words, since it assumes a single language for the input text.  The presence of the
<code class="docutils literal notranslate"><span class="pre">style</span></code> field depends on the model in use, as does the supported prosody types, although
all models support the simple prosody type with <code class="docutils literal notranslate"><span class="pre">pace</span></code>, <code class="docutils literal notranslate"><span class="pre">pitch</span></code>, and <code class="docutils literal notranslate"><span class="pre">expression</span></code>
being integer values from -10 to 10.  Specific information about the model can be
retrieved by the <code class="docutils literal notranslate"><span class="pre">/speak/models</span></code> endpoint.</p>
<p>Finally, here is an example of input for <code class="docutils literal notranslate"><span class="pre">voices/generate</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span>
  <span class="s2">&quot;default_prosody&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;pace&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;pitch&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;expression&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
  <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;eng_base&quot;</span><span class="p">,</span>
  <span class="s2">&quot;gender&quot;</span><span class="p">:</span> <span class="s2">&quot;male&quot;</span><span class="p">,</span>
  <span class="s2">&quot;done_webhook&quot;</span><span class="p">:</span> <span class="s2">&quot;https://myservice.com/daisys_webhooks/voice_done/1234&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here, a default prosody is specified for the voice, which is adopted in subsequent
<code class="docutils literal notranslate"><span class="pre">/take/generate</span></code> requests if <code class="docutils literal notranslate"><span class="pre">prosody</span></code> is not provided (left as <code class="docutils literal notranslate"><span class="pre">null</span></code>).</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="models.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Daisys API models</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Daisys AI
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Daisys API endpoints</a><ul>
<li><a class="reference internal" href="#model-related-endpoints">Model-related Endpoints</a></li>
<li><a class="reference internal" href="#voice-related-endpoints">Voice-related Endpoints</a></li>
<li><a class="reference internal" href="#take-related-endpoints">Take-related Endpoints</a></li>
<li><a class="reference internal" href="#authentication-endpoints">Authentication Endpoints</a></li>
<li><a class="reference internal" href="#json-input-structures">JSON input structures</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=8d563738"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>